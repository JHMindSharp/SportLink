{% extends 'base.html' %}

{% block title %}Modifier le Profil - SportLink{% endblock %}

{% block content %}
<h1>Modifier Votre Profil</h1>
<form method="POST" action="{{ url_for('profile.edit_profile') }}" enctype="multipart/form-data">
    {{ form.hidden_tag() }}

    <div class="form-group">
        {{ form.username.label }} {{ form.username }}
    </div>
    <div class="form-group">
        {{ form.email.label }} {{ form.email }}
    </div>
    <div class="form-group">
        {{ form.first_name.label }} {{ form.first_name }}
    </div>
    <div class="form-group">
        {{ form.last_name.label }} {{ form.last_name }}
    </div>
    <div class="form-group">
        {{ form.country.label }} {{ form.country }}
    </div>
    <div class="form-group">
        {{ form.city.label }} {{ form.city }}
    </div>
    <div class="form-group">
        {{ form.address.label }} {{ form.address }}
    </div>
    <div class="form-group">
        {{ form.postal_code.label }} {{ form.postal_code }}
    </div>
    <div class="form-group">
        {{ form.sex.label }} {{ form.sex }}
    </div>
    <div class="form-group">
        {{ form.birth_date.label }} {{ form.birth_date }}
    </div>
    <div class="form-group">
        {{ form.phone.label }} {{ form.phone }}
    </div>
    <div class="form-group">
        {{ form.display_phone }} {{ form.display_phone.label }}
    </div>
    <div class="form-group">
        {{ form.display_email }} {{ form.display_email.label }}
    </div>
    <div class="form-group">
        {{ form.profile_image.label }} {{ form.profile_image }}
    </div>
    <div class="form-group">
        {{ form.cover_image.label }} {{ form.cover_image }}
    </div>

    <h3>Niveaux dans les sports</h3>
    {% for sport in sports %}
        <div class="form-group">
            <label>{{ sport.name }} :</label>
            <select name="sport_{{ sport.id }}">
                <option value="">Sélectionnez</option>
                {% for i in range(1,6) %}
                <option value="{{ i }}" {% if user.get_sport_level(sport.id) == i %}selected{% endif %}>{{ i }} étoile(s)</option>
                {% endfor %}
            </select>
        </div>
    {% endfor %}

    <!-- Champs cachés pour la géolocalisation (retirés pour ne pas mettre à jour ici) -->
    <!-- {{ form.latitude }} -->
    <!-- {{ form.longitude }} -->

    <div class="form-group">
        {{ form.submit }}
    </div>
</form>
{% endblock %}
